"use client";

import Link from "next/link";
import { usePathname } from "next/navigation";
import {
  BarChart3,
  ClipboardList,
  FileText,
  Home,
  Package,
  Settings,
  Tag,
  Truck,
  Users,
} from "lucide-react";

import { cn } from "@/lib/utils";
import Image from "next/image";
import { useUserRoles } from "@/hooks/use-user-roles";

const routes = [
  {
    label: "Dashboard",
    icon: Home,
    href: "/dashboard",
  },
  {
    label: "Products",
    icon: Package,
    href: "/products",
  },
  {
    label: "Suppliers",
    icon: Truck,
    href: "/suppliers",
  },
  {
    label: "Clients",
    icon: Users,
    href: "/clients",
  },
  {
    label: "Client Quotes",
    icon: ClipboardList,
    href: "/quotes/client",
  },
  {
    label: "Supplier Quotes",
    icon: ClipboardList,
    href: "/quotes/supplier",
  },
  {
    label: "Client Invoices",
    icon: FileText,
    href: "/invoices/client",
  },
  {
    label: "Supplier Invoices",
    icon: FileText,
    href: "/invoices/supplier",
  },
  {
    label: "Categories",
    icon: Tag,
    href: "/categories",
  },
  {
    label: "Users",
    icon: Users,
    href: "/users",
  },
  {
    label: "Roles",
    icon: Users,
    href: "/roles",
  },
  {
    label: "Reports",
    icon: BarChart3,
    href: "/reports",
  },
  {
    label: "Settings",
    icon: Settings,
    href: "/settings",
  },
];

const routeAccess: { [key: string]: string[] } = {
  // Only these roles can see these routes
  "/dashboard": ["admin", "manager"],
  "/products": ["admin", "manager", "sales"],
  "/suppliers": ["admin", "manager", "sales"],
  "/clients": ["admin", "manager", "sales"],
  "/quotes/client": ["admin", "manager", "sales"],
  "/quotes/supplier": ["admin", "manager", "sales"],
  "/invoices/client": ["admin", "manager", "sales"],
  "/invoices/supplier": ["admin", "manager", "sales"],
  "/categories": ["admin", "manager", "sales"],
  "/users": ["admin", "manager"],
  "/roles": ["admin", "manager"],
  "/reports": ["admin", "manager"],
  "/settings": ["admin", "manager", "sales"],
};

export default function Sidebar() {
  const pathname = usePathname();
  const { roles, loading, hasRole, hasAnyRole } = useUserRoles();

  if (loading) {
    return (
      <div className="flex h-full flex-col items-center justify-center">
        <span className="text-gray-400 text-sm">Loading...</span>
      </div>
    );
  }

  // Lowercase role names for easier comparison
  const userRoleNames = roles.map(r => r.roleName.toLowerCase());
  const isAdminOrManager = userRoleNames.includes("admin") || userRoleNames.includes("manager");

  const filteredRoutes = routes.filter(route => {
    const allowedRoles = routeAccess[route.href];
    if (!allowedRoles) return false; // Hide if not defined
    if (isAdminOrManager) return true; // Admin/manager see all
    // Otherwise, check if user has any allowed role
    return allowedRoles.some(role => userRoleNames.includes(role));
  });

  return (
    <div className="flex h-full flex-col space-y-2 border-r bg-white py-4 w-[80px] md:w-[200px] shadow-sm">
      <div className="px-4 py-3 flex items-center justify-center">
        <div className="text-primary">
          <svg width="fit-content" height="fit-content" viewBox="0 0 1512 365" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M171.215 0.187622C162.703 0.921387 148.321 2.90256 143.698 3.92984C107.744 11.7077 76.9258 28.0707 52.7116 52.2116C42.8057 62.1174 37.009 69.1615 29.0843 80.9752C-3.42147 129.697 -9.14484 195.002 14.2623 251.209C28.3506 284.962 52.6382 314.312 83.1628 334.564C99.7459 345.571 124.18 355.77 144.872 360.319C193.521 371.106 243.931 360.319 284.361 330.529C298.743 319.962 314.299 304.113 324.278 289.951C331.029 280.412 336.458 271.24 336.018 270.14C335.651 269.186 332.203 269.039 311.731 269.039C298.596 269.039 287.883 269.259 287.883 269.626C287.883 269.92 285.388 272.928 282.38 276.23C257.652 303.379 226.54 318.788 191.613 321.063C138.269 324.585 89.1063 298.463 61.1498 251.942C37.5226 212.466 35.9083 159.195 57.1875 117.003C71.7161 88.166 98.4985 63.5115 128.289 51.6245C145.606 44.7272 162.556 41.4986 182.221 41.4252C197.263 41.3518 207.022 42.4525 220.744 45.9746C233.878 49.2765 249.948 56.1739 260.881 63.2914C263.596 65.0525 266.824 66.9602 267.998 67.6206L270.273 68.7213L273.501 64.5388C275.336 62.1908 279.005 57.4947 281.646 54.046C284.361 50.5973 288.397 45.3875 290.672 42.3791L294.781 36.9492L292.506 35.0415C288.69 31.8863 276.143 24.3285 267.631 20.0727C248.407 10.387 228.962 4.37009 208.27 1.58179C199.538 0.48114 177.598 -0.399384 171.215 0.187622Z" fill="currentColor"/>
            <path d="M343.429 37.1694C328.167 42.3057 315.473 46.7817 315.179 47.0752C314.886 47.2953 317.968 50.5973 321.93 54.2661L329.194 61.0901L323.691 67.694C306.521 88.3128 285.976 108.124 266.971 122.433C249.948 135.2 234.318 144.372 218.396 150.83C213.039 153.031 208.637 155.085 208.637 155.379C208.637 158.314 229.696 154.425 248.333 148.115C280.766 137.108 315.4 113.628 339.687 86.3316L347.465 77.5265L353.996 83.1765C357.664 86.2583 360.746 89.0466 360.966 89.4135C361.773 90.6609 363.461 89.9271 363.461 88.3128C363.461 87.4323 365.589 73.6375 368.231 57.7148C370.872 41.7921 373 28.511 373 28.2175C373 27.8506 372.56 27.6304 372.12 27.7038C371.606 27.7038 358.692 31.9597 343.429 37.1694Z" fill="currentColor"/>
            <path d="M128.289 92.7154C125.134 93.4492 94.2427 102.548 89.033 104.235C86.0245 105.263 83.1628 106.657 82.6492 107.317C81.9154 108.345 81.6953 114.435 81.6953 133.733C81.6953 160.148 81.9154 163.744 83.6765 163.083C84.2635 162.863 84.4836 162.937 84.2635 163.377C83.5297 164.624 132.325 179.3 133.939 178.346C134.233 178.126 134.526 165.432 134.526 150.169C134.526 125.882 134.38 122.213 133.352 121.259C132.765 120.598 131.665 120.085 131.004 120.011C130.344 120.011 130.124 119.791 130.564 119.645C131.004 119.424 132.178 119.571 133.132 119.938C134.38 120.452 136.067 120.232 138.856 119.278C140.984 118.544 149.055 116.049 156.759 113.774C170.848 109.519 172.682 109.372 173.269 112.16C173.416 112.894 169.747 114.288 158.961 117.443C150.963 119.791 143.332 122.213 142.084 122.726L139.663 123.68V151.123C139.663 166.165 139.81 178.713 140.03 178.933C140.25 179.153 142.671 178.493 145.386 177.539C148.101 176.511 157.713 173.136 166.812 169.981L183.322 164.257L183.542 135.567L183.689 106.877L182.074 106.143C178.479 104.602 131.591 92.055 130.271 92.2751C129.977 92.3485 129.097 92.4953 128.289 92.7154ZM87.5654 108.418C89.1063 108.932 88.8862 109.005 86.6115 108.785C85.0706 108.638 83.6031 108.271 83.383 108.051C82.7226 107.391 85.3641 107.611 87.5654 108.418ZM96.7375 110.619L98.205 111.206H96.7375C95.9304 111.206 93.9492 110.693 92.3349 110.179L89.3998 109.152L92.3349 109.592C93.9492 109.812 95.9304 110.252 96.7375 110.619ZM107.597 113.041C111.119 113.995 114.128 114.875 114.201 115.022C114.274 115.169 114.274 119.204 114.128 123.9C113.834 133.88 114.421 133.366 106.203 130.945L100.773 129.404V122.726C100.773 119.058 100.48 114.948 100.113 113.628C99.2323 110.766 99.1589 110.766 107.597 113.041ZM120.365 116.856C120.145 117.076 119.484 117.15 118.971 116.93C118.384 116.71 118.604 116.489 119.411 116.489C120.218 116.416 120.658 116.636 120.365 116.856ZM124.254 117.884C125.574 118.764 124.4 118.764 122.419 117.884C121.465 117.443 121.319 117.223 122.052 117.223C122.639 117.223 123.667 117.517 124.254 117.884ZM113.027 146.647C112.807 147.234 112.587 147.014 112.587 146.207C112.513 145.4 112.734 144.959 112.954 145.253C113.174 145.473 113.247 146.133 113.027 146.647ZM131.078 173.283C130.858 173.943 130.491 174.31 130.344 174.09C130.124 173.87 130.197 173.43 130.491 172.989C131.151 171.815 131.591 172.035 131.078 173.283Z" fill="currentColor"/>
            <path d="M322.003 124.634C321.783 125.148 321.71 153.838 321.783 188.325L322.003 251.062L340.567 251.282L359.058 251.429V187.591V123.754H340.714C326.699 123.754 322.223 123.974 322.003 124.634Z" fill="currentColor"/>
            <path d="M270.273 211.218C270.273 239.835 270.566 262.435 270.933 262.068C271.227 261.628 272.915 259.5 274.676 257.299C276.363 255.098 278.344 252.896 279.078 252.383C279.959 251.722 284.581 251.429 293.827 251.282L307.328 251.062L307.548 205.348L307.695 159.708H288.984H270.273V211.218Z" fill="currentColor"/>
            <path d="M185.009 168.88C181.267 170.201 173.489 172.989 167.766 175.044C134.38 187.004 136.654 186.344 133.059 185.463C131.224 185.096 117.283 180.914 101.947 176.291C86.6849 171.595 73.6239 167.78 72.9635 167.78C70.909 167.78 64.3051 171.228 63.8648 172.549C63.0577 174.604 63.2778 241.596 64.0849 243.724C64.5252 244.898 65.1122 245.412 65.6992 245.118C66.2129 244.825 66.2862 244.898 65.9927 245.485C65.3323 246.513 72.8901 250.108 75.9719 250.255C76.9992 250.255 77.733 250.548 77.5862 250.768C77.146 251.576 93.9492 257.519 94.9764 256.932C95.5635 256.565 95.7102 256.638 95.3433 257.152C94.6096 258.326 96.5174 258.253 97.8381 257.079C98.7186 256.345 98.7186 256.418 97.9849 257.372C97.2511 258.4 98.1316 258.913 105.029 261.555C122.126 268.085 135.407 272.708 136.067 272.341C136.434 272.048 136.728 256.345 136.728 233.525C136.728 201.533 136.581 195.002 135.7 194.268C135.113 193.828 134.38 193.461 134.086 193.535C133.719 193.608 132.545 193.315 131.518 192.948C130.491 192.507 128.289 191.7 126.602 191.187C124.914 190.673 123.667 190.159 123.813 190.013C124.254 189.572 136.654 193.535 137.095 194.268C137.315 194.562 148.835 191.04 162.776 186.344C189.559 177.318 190.293 177.245 190.293 181.354C190.293 183.115 189.559 183.409 154.925 195.369L142.598 199.625V236.166C142.598 256.272 142.891 272.708 143.185 272.708C143.552 272.708 152.357 269.259 162.85 265.003C173.269 260.674 187.284 255.024 193.961 252.383C200.639 249.741 206.509 247.246 207.022 246.806C207.683 246.292 207.903 238.001 207.903 209.971C207.903 169.174 208.563 173.209 201.519 169.687C194.622 166.239 192.641 166.165 185.009 168.88ZM81.6953 176.731C84.7037 177.539 87.492 178.566 87.8589 178.859C88.2258 179.153 86.905 179.006 84.9239 178.419C82.9427 177.832 78.1732 176.511 74.3577 175.484C70.5421 174.457 67.0934 173.283 66.7265 172.916C66.0661 172.256 67.8271 172.696 81.6953 176.731ZM101.874 182.528L106.276 183.922L105.91 195.076C105.616 204.468 105.396 206.302 104.442 206.229C102.387 206.082 91.6011 202.854 90.7206 202.12C89.9868 201.533 89.7667 198.231 89.7667 190.086V178.859L93.6557 179.96C95.7102 180.547 99.4524 181.721 101.874 182.528ZM74.7245 180.327C75.5317 181.574 74.6512 181.868 73.6239 180.62C73.0369 179.96 73.0369 179.52 73.4771 179.52C73.9174 179.52 74.5044 179.887 74.7245 180.327ZM64.5986 185.17C64.4518 186.344 64.3051 185.537 64.3051 183.556C64.3051 181.501 64.4518 180.62 64.5986 181.501C64.7453 182.455 64.7453 184.069 64.5986 185.17ZM109.945 185.39C110.899 185.83 111.046 186.05 110.312 186.05C109.725 186.05 108.698 185.757 108.111 185.39C106.79 184.509 107.964 184.509 109.945 185.39ZM116.916 187.591C118.237 188.472 117.063 188.472 115.082 187.591C114.128 187.151 113.981 186.931 114.715 186.931C115.302 186.931 116.329 187.224 116.916 187.591ZM64.5986 191.04C64.3784 191.774 64.2317 191.187 64.2317 189.793C64.2317 188.398 64.3784 187.811 64.5986 188.472C64.7453 189.205 64.7453 190.38 64.5986 191.04ZM121.612 188.985C123.006 189.499 123.006 189.572 121.465 189.939C120.585 190.233 119.998 190.086 120.218 189.793C120.438 189.426 119.998 188.985 119.337 188.839C118.457 188.618 118.384 188.472 119.117 188.472C119.704 188.472 120.878 188.692 121.612 188.985ZM64.5986 195.076C64.3784 195.663 64.1583 195.442 64.1583 194.635C64.0849 193.828 64.3051 193.388 64.5252 193.681C64.7453 193.902 64.8187 194.562 64.5986 195.076ZM64.5986 203.147C64.4518 204.468 64.3051 203.441 64.3051 200.799C64.3051 198.157 64.4518 197.13 64.5986 198.378C64.7453 199.698 64.7453 201.9 64.5986 203.147ZM135.847 204.248C135.774 207.183 135.627 208.137 135.48 206.669C135.26 205.275 134.747 203.881 134.306 203.587C133.646 203.147 133.646 203 134.38 203C134.82 203 135.26 202.193 135.26 201.166C135.26 200.139 135.407 199.331 135.627 199.331C135.847 199.331 135.921 201.533 135.847 204.248ZM85.731 203.661C85.9511 204.028 85.8778 204.541 85.5109 204.761C85.144 204.981 84.8505 204.688 84.8505 204.101C84.8505 202.854 85.0706 202.707 85.731 203.661ZM135.847 214.814L135.627 218.776L135.26 214.227C135.04 211.732 135.187 209.971 135.48 210.265C135.847 210.558 135.994 212.613 135.847 214.814ZM64.5986 218.556C64.3784 219.143 64.1583 218.923 64.1583 218.116C64.0849 217.309 64.3051 216.868 64.5252 217.162C64.7453 217.382 64.8187 218.042 64.5986 218.556ZM72.5232 218.996C72.3031 219.216 71.7161 218.996 71.2025 218.483C70.5421 217.749 70.6154 217.676 71.6427 218.116C72.3765 218.336 72.7434 218.776 72.5232 218.996ZM135.774 222.225C135.554 222.739 135.407 222.372 135.407 221.344C135.407 220.317 135.554 219.95 135.774 220.391C135.921 220.904 135.921 221.785 135.774 222.225ZM64.5986 225.527C64.3784 226.261 64.2317 225.674 64.2317 224.279C64.2317 222.885 64.3784 222.298 64.5986 222.959C64.7453 223.692 64.7453 224.866 64.5986 225.527ZM135.774 233.598C135.774 238.001 135.7 238.221 135.334 235.286C134.967 232.351 135.113 228.682 135.627 228.682C135.774 228.682 135.847 230.883 135.774 233.598ZM64.5986 232.498C64.3784 233.085 64.1583 232.865 64.1583 232.057C64.0849 231.25 64.3051 230.81 64.5252 231.103C64.7453 231.324 64.8187 231.984 64.5986 232.498ZM135.774 242.77C135.554 243.284 135.407 242.917 135.407 241.89C135.407 240.863 135.554 240.496 135.774 240.936C135.921 241.45 135.921 242.33 135.774 242.77ZM135.774 247.173C135.554 247.76 135.334 247.54 135.334 246.733C135.26 245.926 135.48 245.485 135.7 245.779C135.921 245.999 135.994 246.659 135.774 247.173ZM135.774 251.576C135.554 252.163 135.334 251.942 135.334 251.135C135.26 250.328 135.48 249.888 135.7 250.181C135.921 250.401 135.994 251.062 135.774 251.576ZM135.774 257.079C135.554 257.813 135.407 257.372 135.407 256.198C135.407 254.951 135.554 254.437 135.774 254.877C135.921 255.391 135.921 256.418 135.774 257.079ZM135.774 265.517C135.554 266.104 135.334 265.884 135.334 265.077C135.26 264.27 135.48 263.829 135.7 264.123C135.921 264.343 135.994 265.003 135.774 265.517Z" fill="currentColor"/>
            <path d="M220.01 197.277C219.79 197.791 219.716 220.831 219.79 248.42L220.01 298.536L231.75 292.593C238.207 289.291 246.279 284.742 249.727 282.394L255.964 278.211L256.551 238.294C256.845 216.355 256.992 197.937 256.771 197.424C256.258 196.03 220.523 195.883 220.01 197.277Z" fill="currentColor"/>
            <path d="M511.767 56.1609C506.967 56.8276 499.367 59.4943 492.7 62.8276C474.167 71.8943 462.7 85.6276 456.3 106.694C451.9 120.694 451.9 143.361 456.3 156.028C462.967 175.228 474.567 189.228 490.7 197.628C519.367 212.561 553.367 208.694 574.833 188.161C580.967 182.294 590.567 169.628 589.5 168.694C589.367 168.561 583.5 165.761 576.7 162.694L564.3 157.228L561.367 160.961C551.9 173.228 540.833 178.694 525.9 178.694C512.833 178.694 505.233 175.628 496.3 166.828C485.367 155.894 482.7 147.894 483.367 128.694C483.767 116.028 484.433 112.961 487.5 106.428C491.5 98.1609 498.567 91.0943 507.367 86.4276C512.167 83.8943 515.233 83.3609 525.1 83.3609C535.5 83.3609 538.033 83.8943 544.7 87.0943C549.1 89.2276 554.833 93.6276 558.167 97.3609L564.033 103.894L575.767 98.5609C582.3 95.7609 588.167 92.8276 588.7 92.2943C590.433 90.5609 578.967 76.1609 571.5 70.4276C553.9 57.0943 535.633 52.6943 511.767 56.1609Z" fill="currentColor"/>
            <path d="M806.433 55.6276C784.167 58.5609 768.167 71.2276 764.3 89.2276C760.567 106.961 769.233 123.628 786.833 132.561C790.3 134.294 801.5 138.161 811.767 141.228C836.7 148.694 844.433 153.894 844.433 162.961C844.433 173.894 835.1 180.028 818.3 180.028C804.833 180.028 795.633 176.161 790.167 168.161C786.167 162.428 784.967 162.028 777.767 163.894C775.233 164.694 770.433 165.894 767.367 166.694C761.5 168.161 761.5 168.161 762.433 173.094C763.5 179.361 770.033 189.494 775.5 193.761C795.1 208.561 829.233 211.094 852.433 199.361C865.9 192.561 873.233 181.761 874.7 166.294C876.967 141.894 863.9 128.828 826.167 117.628C802.033 110.428 794.567 106.028 792.967 98.0276C791.1 88.0276 799.9 80.9609 814.3 81.0942C827.367 81.0942 833.5 83.3609 840.833 90.8276L847.233 97.4942L858.167 94.6942C864.167 93.0942 869.633 91.3609 870.3 90.6942C872.167 88.8276 866.033 76.5609 860.033 70.4276C848.967 58.9609 826.833 52.9609 806.433 55.6276Z" fill="currentColor"/>
            <path d="M1077.77 56.6943C1064.03 59.761 1050.57 67.2276 1041.1 76.6943C1000.3 118.161 1020.83 193.094 1076.3 204.828C1127.23 215.628 1170.17 181.761 1170.17 130.694C1170.17 110.428 1163.63 93.0943 1150.43 78.961C1141.37 69.0943 1132.7 63.4943 1120.43 59.2276C1108.43 54.961 1089.9 53.8943 1077.77 56.6943ZM1116.17 86.8276C1132.7 94.961 1141.37 112.161 1140.17 134.561C1138.83 155.094 1129.23 169.894 1112.97 176.028C1102.03 180.161 1082.83 179.494 1073.37 174.694C1052.43 164.161 1043.1 132.294 1053.63 107.628C1056.7 100.428 1065.77 90.161 1071.63 86.961C1084.57 80.2943 1102.57 80.161 1116.17 86.8276Z" fill="currentColor"/>
            <path d="M613.767 108.294C613.767 163.628 614.167 166.961 621.233 180.028C628.033 192.694 642.7 202.294 659.767 205.494C671.1 207.628 690.033 206.294 699.367 202.828C721.1 194.561 731.9 180.028 735.233 154.828C735.9 149.228 736.3 125.228 736.167 101.361L735.767 58.0277H721.1H706.433L705.767 110.028C705.233 156.294 704.833 162.561 702.833 166.294C700.033 171.361 693.633 176.428 687.233 178.561C681.5 180.428 668.033 180.428 661.1 178.561C654.3 176.694 646.433 168.828 644.567 162.028C643.633 158.561 643.1 139.361 643.1 107.894C643.1 64.561 642.833 58.8277 640.967 58.161C639.767 57.761 633.233 57.361 626.3 57.361H613.767V108.294Z" fill="currentColor"/>
            <path d="M888.967 59.0943C888.567 60.161 888.434 66.0276 888.7 72.161L889.1 83.361L911.1 83.4943H933.1L933.5 143.094L933.767 202.694H948.834H963.767V143.228V83.8943L985.767 83.6276L1007.77 83.361V70.6943V58.0276L948.7 57.6276C900.3 57.361 889.634 57.6276 888.967 59.0943Z" fill="currentColor"/>
            <path d="M1194.7 58.2943C1194.17 58.6943 1193.77 91.4943 1193.77 130.961V202.694H1207.77H1221.77V151.628L1221.9 100.694L1226.43 109.361C1228.83 114.161 1237.37 131.628 1245.23 148.294L1259.63 178.694H1269.9H1280.03L1283.77 170.294C1285.77 165.761 1293.1 150.294 1300.03 136.028C1306.97 121.761 1313.63 107.761 1314.7 104.961C1315.77 102.294 1317.1 100.028 1317.63 100.028C1318.03 100.028 1318.3 123.094 1318.03 151.361L1317.77 202.694H1332.43H1347.1L1346.83 130.294L1346.43 58.0276L1329.1 57.6276C1316.57 57.361 1311.1 57.761 1309.5 58.961C1308.3 59.8943 1300.7 75.6276 1292.43 94.0276C1284.17 112.294 1275.63 131.228 1273.5 136.028L1269.63 144.694L1252.97 108.028C1243.77 87.8943 1235.1 68.6943 1233.77 65.361C1231.63 59.761 1230.97 59.2276 1225.63 58.4276C1217.9 57.2276 1195.77 57.0943 1194.7 58.2943Z" fill="currentColor"/>
            <path d="M1427.23 58.561C1424.43 59.361 1420.7 67.8943 1396.97 128.428C1382.03 166.428 1369.5 198.694 1369.1 200.161C1368.3 202.561 1369.1 202.694 1383.37 202.694H1398.57L1404.3 186.028L1410.03 169.361H1439.77H1469.5L1475.5 185.628L1481.37 202.028L1496.3 202.428C1505.63 202.694 1511.1 202.294 1511.1 201.361C1511.1 200.694 1505.63 185.761 1498.97 168.428C1492.3 150.961 1480.97 121.361 1473.77 102.694C1466.7 84.0276 1460.03 66.561 1459.23 63.8943C1458.03 60.0276 1456.83 58.8276 1453.5 58.161C1448.3 57.0943 1431.37 57.361 1427.23 58.561ZM1451.37 118.294C1456.97 133.628 1461.23 146.428 1460.83 146.961C1460.57 147.628 1451.37 148.028 1440.43 148.028C1429.5 148.028 1420.3 147.628 1420.03 146.961C1419.63 146.428 1422.3 138.294 1425.77 128.961C1429.37 119.494 1433.9 106.961 1435.9 101.228C1437.9 95.4943 1439.9 90.6943 1440.43 90.6943C1440.83 90.6943 1445.77 103.094 1451.37 118.294Z" fill="currentColor"/>
            <path d="M520.133 258.294C515.333 260.561 511.867 266.028 511.867 270.961C512 276.828 515.467 280.561 525.333 285.361C530.667 287.894 535.6 291.094 536.4 292.294C540.4 298.961 527.067 302.828 519.467 297.361L515.6 294.428L512.8 297.228L510 300.028L513.067 303.228C516.933 307.361 526.267 309.894 532.667 308.694C539.067 307.628 546.533 300.294 546.533 295.494C546.533 288.294 542.933 284.161 532.133 278.961C524 275.094 521.733 273.361 521.467 270.828C520.533 264.161 529.867 261.761 536.4 266.828C539.6 269.361 540.4 269.494 543.333 268.028C547.333 265.894 547.333 265.228 543.6 261.628C537.333 255.894 527.867 254.428 520.133 258.294Z" fill="currentColor"/>
            <path d="M561.6 258.294C561.2 259.094 561.2 260.961 561.467 262.294C561.867 264.161 563.467 264.828 569.6 265.094L577.2 265.494V286.694V308.028H581.867H586.533V286.694V265.361H594.667H602.667L602.267 261.094L601.867 256.961L582 256.828C567.867 256.694 562 257.094 561.6 258.294Z" fill="currentColor"/>
            <path d="M629.867 258.561C615.067 265.228 610.133 285.094 619.867 298.561C625.2 305.894 630.8 308.561 640.533 308.561C650.133 308.694 657.6 304.961 662.533 297.894C666.4 292.161 667.733 279.628 665.2 272.961C659.733 259.094 643.333 252.428 629.867 258.561ZM652.667 269.894C656.667 273.894 657.2 275.228 657.2 281.228C657.2 293.494 651.2 300.028 639.867 300.028C627.867 300.028 620.267 285.894 625.867 274.161C628.8 268.028 633.333 265.494 641.733 265.361C647.333 265.361 648.667 265.894 652.667 269.894Z" fill="currentColor"/>
            <path d="M697.867 258.561C678.533 267.361 677.733 296.161 696.533 305.894C703.6 309.628 714.667 309.494 722 305.761C730.4 301.361 731.333 299.494 727.067 296.161L723.467 293.361L720.267 296.294C717.6 298.828 715.467 299.361 708.933 299.361C701.467 299.361 700.667 299.094 696.4 294.428C692.667 290.161 691.867 288.428 691.867 283.228C691.867 272.161 698.533 265.361 709.6 265.361C714.133 265.361 716.667 266.161 719.467 268.561C723.333 271.761 723.467 271.761 726.933 269.494L730.533 267.228L726.8 263.628C718.933 256.161 707.6 254.161 697.867 258.561Z" fill="currentColor"/>
            <path d="M750.267 280.561C749.867 293.894 749.867 305.494 750.267 306.294C750.533 307.228 752.533 308.028 754.667 308.028C758.533 308.028 758.533 307.894 758.533 300.294C758.533 294.828 759.333 291.761 761.2 289.361C764.133 285.494 764.133 285.361 772.8 298.028C778.667 306.428 779.733 307.361 784.267 307.761C786.933 308.028 789.2 307.761 789.2 307.228C789.2 306.694 785.067 300.561 779.867 293.361C774.8 286.161 770.533 279.894 770.533 279.361C770.533 278.828 774.533 273.628 779.333 267.894L788.133 257.361H782.267C776.933 257.361 776.133 257.894 770.4 265.094C767.067 269.361 763.467 274.161 762.4 275.761C761.333 277.361 760.133 278.694 759.6 278.694C758.933 278.694 758.533 274.028 758.533 268.161V257.628L754.667 257.094L750.8 256.561L750.267 280.561Z" fill="currentColor"/>
            <path d="M876.133 259.628C874.8 261.761 870.667 268.694 867.2 275.228C859.733 288.961 860.933 289.361 850.267 269.628C843.867 257.894 843.467 257.361 839.067 257.361H834.533V282.694V308.028H838.533H842.4L842.8 291.494L843.2 274.828L851.067 288.828C855.333 296.428 859.333 302.694 859.867 302.694C860.4 302.694 864.533 296.428 869.067 288.694C873.6 280.961 877.333 274.694 877.6 274.694C877.733 274.694 877.733 282.161 877.467 291.361L877.067 308.028H881.867H886.533L886.267 282.428L885.867 256.961L882.267 256.428C879.6 256.028 878.133 256.828 876.133 259.628Z" fill="currentColor"/>
            <path d="M926.667 257.228C924 257.894 922.134 261.761 914.4 282.694C909.334 296.294 905.2 307.494 905.2 307.628C905.2 307.894 907.2 308.028 909.6 308.028C913.6 308.028 914.134 307.494 916 302.294L918.134 296.694H928.534H938.934L940.934 302.294C942.667 307.628 943.067 308.028 947.467 308.028C951.334 308.028 952 307.628 951.2 305.628C950.8 304.428 946.667 293.494 942.267 281.361C937.867 269.228 933.6 258.561 932.934 257.628C931.467 255.894 931.334 255.894 926.667 257.228ZM935.867 287.628C935.867 287.894 932.534 288.028 928.534 288.028C924.534 288.028 921.2 287.761 921.2 287.494C921.2 287.094 922.8 282.561 924.8 277.228L928.267 267.628L932.134 277.494C934.134 282.828 935.867 287.494 935.867 287.628Z" fill="currentColor"/>
            <path d="M970.533 281.894V308.028H974.533H978.4L978.8 290.428L979.2 272.828L992.133 290.428C1003.87 306.294 1005.6 308.028 1009.2 308.028H1013.2V282.828C1013.2 258.428 1013.07 257.628 1010.4 256.961C1004 255.228 1003.6 256.561 1004.13 274.828C1004.4 284.294 1004.27 292.028 1003.87 292.028C1003.47 292.028 1001.87 289.894 1000.13 287.228C992.4 275.361 978.267 257.361 976.533 257.361C975.6 257.361 973.867 256.961 972.667 256.561C970.8 255.894 970.533 258.561 970.533 281.894Z" fill="currentColor"/>
            <path d="M1051.33 257.094C1051.07 257.628 1047.07 267.761 1042.67 279.494C1038.27 291.094 1034.13 302.294 1033.33 304.294C1032 307.894 1032.13 308.028 1036.4 308.028C1040.4 308.028 1041.07 307.494 1043.07 302.028L1045.47 296.028H1055.73H1066L1067.87 301.628C1069.6 306.561 1070.4 307.361 1074.27 307.761C1076.53 308.028 1078.53 307.761 1078.53 307.228C1078.53 305.494 1060.93 258.694 1060 258.161C1057.6 256.828 1052 256.161 1051.33 257.094ZM1058.27 274.961C1063.47 288.961 1063.73 288.028 1055.33 288.028H1048L1051.6 278.028C1053.6 272.561 1055.33 268.028 1055.47 268.028C1055.6 268.028 1056.8 271.228 1058.27 274.961Z" fill="currentColor"/>
            <path d="M1109.2 258.161C1100.13 262.161 1095.47 268.428 1093.87 278.961C1092.67 286.828 1095.87 296.828 1100.93 301.761C1104.67 305.361 1114.13 309.361 1119.07 309.361C1124.67 309.361 1132 306.428 1136.53 302.428C1141.07 298.561 1141.2 298.028 1141.2 289.228V279.894L1130.27 280.294C1119.47 280.694 1119.2 280.828 1119.2 284.028C1119.2 287.094 1119.73 287.361 1126.27 287.761C1132.8 288.161 1133.2 288.294 1133.2 291.761C1133.2 296.561 1127.47 300.028 1119.87 300.028C1109.33 300.028 1102.53 293.094 1102.53 282.294C1102.53 267.628 1117.47 259.894 1130.8 267.761C1134.13 269.761 1134.67 269.761 1137.2 267.361L1140.13 264.694L1136.67 261.761C1130 256.161 1117.6 254.428 1109.2 258.161Z" fill="currentColor"/>
            <path d="M1164.4 257.228C1164.13 257.494 1163.87 259.894 1163.87 282.828V308.028H1181.2H1198.53V304.028V300.028H1185.87H1173.2V293.361V286.828L1184.27 286.428L1195.2 286.028V282.028V278.028L1184.27 277.628L1173.2 277.228V271.361V265.361H1186H1198.67L1198.27 261.228L1197.87 257.094L1181.47 256.828C1172.4 256.828 1164.67 256.961 1164.4 257.228Z" fill="currentColor"/>
            <path d="M1222.27 257.094C1220.13 257.494 1219.87 259.894 1219.87 282.828V308.028H1224.67H1229.33L1228.93 292.028C1228.67 283.228 1228.8 276.028 1229.2 276.028C1229.6 276.028 1233.2 281.894 1237.2 288.961C1241.2 296.028 1245.2 302.028 1245.87 302.294C1246.67 302.561 1251.07 296.294 1255.6 288.428L1263.87 274.028V290.961V308.028H1267.87H1271.87V282.961C1271.87 269.094 1271.6 257.494 1271.2 257.094C1270.8 256.828 1268.8 256.694 1266.53 257.094C1262.93 257.628 1261.73 259.228 1254.8 272.161C1250.67 280.161 1246.8 286.694 1246.27 286.694C1245.73 286.694 1242 280.428 1237.87 272.694C1229.2 256.694 1228.27 255.628 1222.27 257.094Z" fill="currentColor"/>
            <path d="M1385.6 258.028C1385.33 258.961 1385.2 266.961 1385.47 275.894C1385.73 284.694 1385.6 292.028 1385.2 292.028C1384.8 291.894 1378.93 284.161 1372.13 274.561C1360.27 258.294 1359.33 257.361 1355.07 257.361H1350.53V282.694V308.028H1355.2H1359.73L1360.13 290.694L1360.53 273.228L1373.2 290.294C1384.4 305.361 1386.4 307.361 1390.27 307.761L1394.53 308.161V282.961V257.628L1390.4 257.094C1387.87 256.694 1386 257.094 1385.6 258.028Z" fill="currentColor"/>
            <path d="M1413.73 257.228C1413.47 257.494 1413.2 259.494 1413.2 261.628C1413.2 265.361 1413.33 265.361 1421.2 265.361H1429.2V286.694V308.028H1433.87H1438.53V286.694V265.494L1446.27 265.094C1453.6 264.694 1453.87 264.561 1453.87 260.961V257.228L1434.13 256.961C1423.2 256.828 1414 256.961 1413.73 257.228Z" fill="currentColor"/>
            <path d="M1294.53 282.694V308.028H1311.87H1329.2V304.028V300.028H1316.53H1303.87V293.361V286.828L1314.93 286.428L1325.87 286.028V282.028V278.028L1314.93 277.628L1303.87 277.228V271.361V265.361H1316.53H1329.2V261.361V257.361H1311.87H1294.53V282.694Z" fill="currentColor"/>
          </svg>
        </div>
      </div>
      <div className="space-y-1 px-3">
        {filteredRoutes.map((route) => (
          <Link
            key={route.href}
            href={route.href}
            className={cn(
              "flex items-center rounded-lg px-3 py-2 text-sm font-medium transition-all hover:bg-gray-100",
              pathname === route.href
                ? "bg-gray-100 text-primary border-r-2 border-primary"
                : "text-foreground hover:text-primary"
            )}
          >
            <route.icon
              className={cn(
                "h-5 w-5 mr-3",
                pathname === route.href ? "text-primary" : "text-gray-500"
              )}
            />
            <span className="hidden md:block">{route.label}</span>
          </Link>
        ))}
      </div>
    </div>
  );
}
